{"version":3,"sources":["../../../app-src/domain/negociacao/Negociacoes.js"],"names":["Negociacoes","constructor","_negociacoes","Object","freeze","adiciona","negociacao","push","paraArray","concat","volumeTotal","reduce","total","volume","esvazia","length"],"mappings":";;;;;;AAAO,kBAAMA,WAAN,CAAiB;;AAEpB;AACAC,8BAAa;AAAE;AACX,yBAAKC,YAAL,GAAoB,EAApB;AACA;AACAC,2BAAOC,MAAP,CAAc,IAAd,EAHS,CAGW;AACvB;;AAEDC,yBAASC,UAAT,EAAoB;AAChB,yBAAKJ,YAAL,CAAkBK,IAAlB,CAAuBD,UAAvB;AACA;AACH;;AAEDE,4BAAW;AACP,2BAAO,GAAGC,MAAH,CAAU,KAAKP,YAAf,CAAP,CADO,CAC6B;AACA;AACvC;;AAED,oBAAIQ,WAAJ,GAAiB;AACb,2BAAO,KAAKR,YAAL,CACFS,MADE,CACK,CAACC,KAAD,EAAQN,UAAR,KACJM,QAAQN,WAAWO,MAFpB,EAGD,CAHC,CAAP;AAIH;;AAEDC,0BAAS;AACL;AACA,yBAAKZ,YAAL,CAAkBa,MAAlB,GAA2B,CAA3B,CAFK,CAEwB;AAC7B;AACH;;AA9BmB","file":"Negociacoes.js","sourcesContent":["export class Negociacoes{\r\n\r\n    //constructor(armadilha){ // não recebe mais o contexto devido uso de arrow function\r\n    constructor(){ // não recebe mais a armadilha devido PROXY\r\n        this._negociacoes = []\r\n        //this._armadilha = armadilha\r\n        Object.freeze(this) //impede que se realize novas atribuições às propriedades da instância\r\n    }\r\n\r\n    adiciona(negociacao){\r\n        this._negociacoes.push(negociacao)\r\n        //this._armadilha(this) //não recebe mais a armadilha\r\n    }\r\n\r\n    paraArray(){\r\n        return [].concat(this._negociacoes) //retorna uma nova referência com os itens do array de negociacoes, \r\n                                            //mas não permite acesso direto ao array original\r\n    }\r\n\r\n    get volumeTotal(){\r\n        return this._negociacoes\r\n            .reduce((total, negociacao) => \r\n                total + negociacao.volume\r\n            , 0)\r\n    }\r\n\r\n    esvazia(){\r\n        //this._negociacoes = [] como a instância é congelada, não aceita atribuições diretas.\r\n        this._negociacoes.length = 0 //dessa forma, alteramos o tamanho do array e apagamos todo o conteúdo do atribuito.\r\n        //this._armadilha(this) não recebe mais a armadilha\r\n    }\r\n\r\n\r\n}"]}